(function(c){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}var b=function(a){return a='/',{title:'browser',version:'v0.10.1',browser:!0,env:{},argv:[],nextTick:function(a){setTimeout(a,0)},cwd:function(){return a},chdir:function(b){a=b}}}();a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/bookmarklet.js',function(d,h,i,j){var e,f,c,b,g;e=a('/$$.js',d),f=a('/iv.js',d),c='aeos.iv-alpha.selector',b=localStorage[c]||'',b=prompt('selector',b),localStorage[c]=b,g=e(b).pluck('href'),f(g)}),a.define('/iv.js',function(d,g,h,i){function e(a,b){return function(){return a[b].apply(a,arguments)}}var f,c,b;f=e(console,'log'),c=a('/$.js',d),b={init:function(g,h){function k(f){var e,b,d,a;return e=b=new Image,e.src=f,d=c(b),a={el:b,$el:d,dirty:!1},d.on('load',function(){return a.width=this.width,a.height=this.height,this}),a}var i,a,f,d,j,e;for(b.index=h!=null?h:0,i=b.stylesheet=c('<style>'+b.css+'</style>'),i.addTo(document.head),a=b.overlay=c('<div id="iv">'),a.on('mousewheel',b.mousewheel),a.on('wheel',b.wheel),a.on('mousedown',b.dragstart),a.on('click',b.click),a.addTo(document.body),f=[],d=0,j=g.length;d<j;++d)f.push(k.call(this,g[d]));return b.imgs=f,b.img=b.imgs[b.index],b.img.$el.on('load',function(){return b.overlay.add(this),b.resize()}),e=c(window),e.on('resize',b.resize),e.on('keydown',b.keydown),e},rm:function(){var a;return b.overlay.rm(),b.stylesheet.rm(),a=c(window),a.off('resize',b.resize),a.off('keydown',b.keydown),a},resize:function(){var a,h,e,f,d,c,g,j,k,i;return a=b.img,h=b.overlay,e=h.el,f=e.clientWidth,d=e.clientHeight,c=a.width,g=a.height,a.minWidth=c>f||g>d?(j=(k=f/c)<(i=d/g)?k:i,c*j|0):c,a.dirty?void 0:a.el.width=a.minWidth},next:function(){return b.delta(1)},prev:function(){return b.delta(-1)},delta:function(d){var a,c;return a=b.imgs.length,b.index=(b.index+d+a)%a,c=b.img.$el,b.img=b.imgs[b.index],b.resize(),c.replace(b.img.el)},keydown:function(a){switch(a.which){case 27:return b.rm();case 32:return a.shiftKey?b.prev():b.next()}},wheel:function(a){var c;return c=a.deltaY<0?1:-1,b.zoom(a,c)},mousewheel:function(a){var c;return c=a.wheelDelta>0?1:-1,b.zoom(a,c)},zoom:function(i,u){var c,f,g,h,n,j,k,l,e,d,o,p,q,r,s,t,m,a;return i.preventDefault(),c=1+u*.1,f=i.clientX,g=i.clientY,h=b.overlay.el,n=h.scrollLeft,j=h.scrollTop,k=n+f,l=j+g,e=b.img,d=e.el,o=d.width,d.width=(p=(r=e.minWidth)>(s=d.width*c)?r:s)<(q=e.width)?p:q,c=d.width/o,t=k*c-f,m=l*c-g,b.overlay.scrollTo(t,m),a=b.img,a.dirty=a.el.width!==a.minWidth,a},click:function(c){var a;return a=c.button,b.img.dirty?void 0:[b.next,b.prev][a]()},dragstart:function(d){var a;return b.x=d.clientX,b.y=d.clientY,a=c(window),a.on('mousemove',b.dragmove),a.on('mouseup',b.dragend),a},dragmove:function(e){var c,d,a;return c=e.clientX,d=e.clientY,a=b,a.overlay.scrollBy(b.x-c,b.y-d),a.x=c,a.y=d,a},dragend:function(){var a;return a=c(window),a.off('mousemove',b.dragmove),a.off('mouseup',b.dragend),a},css:"body {\n  overflow: hidden;\n}\n\n#iv {\n  z-index: 999;\n  overflow: auto;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n  display: -webkit-flex;\n  top:    0;\n  left:   0;\n  right:  0;\n  bottom: 0;\n  position: fixed;\n  background-color: black;\n}\n\n#iv > img {\n  pointer-events: none;\n  /*\n  * https://developer.mozilla.org/en-US/docs/CSS/Tutorials/Using_CSS_flexible_boxes#Flex_item_considerations\n  * flex items will stay centered, even if they overflow the flex container.\n  * This can sometimes be problematic, however, if they overflow past the top\n  * edge of the page ... as you can't scroll to that area, even if there is\n  * content there!  ... For now, you can instead use margins to achieve\n  * centering\n  */\n  margin: auto;\n}"},d.exports=b.init}),a.define('/$.js',function(c,d,e,f){var a,b;a=function(c){var b,a;return b=a=document.createElement('div'),b.innerHTML=c,a.removeChild(a.firstChild)},b=function(b){return typeof b==='string'&&(b=a(b)),{on:function(a,c){return b.addEventListener(a,c)},off:function(a,c){return b.removeEventListener(a,c)},rm:function(){return b.parentNode.removeChild(b)},add:function(a){return b.appendChild(a)},addTo:function(a){return a.appendChild(b)},replace:function(a){return b.parentNode.replaceChild(a,b)},scrollBy:function(a,c){return b.scrollLeft+=a,b.scrollTop+=c},scrollTo:function(a,c){b.scrollLeft=a,b.scrollTop=c},el:b}},c.exports=b}),a.define('/$$.js',function(c,d,e,f){var a,b=[].slice;a=function(d,a){var c;return a==null&&(a=document.body),c=b.call(a.querySelectorAll(d)),{pluck:function(g){var a,d,e,f,b=[];for(a=0,f=(e=c).length;a<f;++a)d=e[a],b.push(d[g]);return b}}},c.exports=a}),a('/bookmarklet.js')}.call(this,this))